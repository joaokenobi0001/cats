import React, { useEffect, useState } from 'react';
import './style.css'; // Importa o CSS

function Loading() {
  const [step, setStep] = useState(0);

  useEffect(() => {
    function updateStep() {
      setStep((step) => (step < 3 ? step + 1 : 0));
    }
    const interval = setInterval(updateStep, 300);
    return () => {
      clearInterval(interval);
    };
  }, []);

  function displayStep(i) {
    return {
      display: step === i ? 'block' : 'none',
    };
  }

  return (
    <div className="StyledLoading">
      <div className="loading">
        <svg
          width="46"
          height="31"
          viewBox="0 0 46 31"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <g style={displayStep(0)}>
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M28.3414 18C29.6129 18 30.7462 18.8015 31.1699 20.0003C31.5832 21.1695 32.6985 22 34 22C35.6569 22 37 20.6569 37 19C37 18.2297 36.7136 17.5335 36.2368 17.0007C35.2173 15.8617 35.2173 14.1383 36.2368 12.9993C36.7136 12.4665 37 11.7703 37 11C37 9.34315 35.6569 8 34 8C32.6985 8 31.5832 8.8305 31.1699 9.99974C30.7462 11.1985 29.6129 12 28.3414 12L11.6586 12C10.3871 12 9.25377 11.1985 8.83007 9.99974C8.4168 8.8305 7.30153 8 6 8C4.34314 8 3 9.34314 3 11C3 11.7703 3.28637 12.4665 3.76319 12.9993C4.78265 14.1383 4.78265 15.8617 3.76319 17.0007C3.28637 17.5335 3 18.2297 3 19C3 20.6569 4.34314 22 6 22C7.30153 22 8.4168 21.1695 8.83007 20.0003C9.25377 18.8015 10.3871 18 11.6586 18L28.3414 18ZM11.6586 21C10.8349 23.3304 8.61244 25 6 25C2.68629 25 -7.56806e-07 22.3137 -6.11959e-07 19C-5.44788e-07 17.4633 0.577705 16.0615 1.52779 15C0.577705 13.9385 -3.2944e-07 12.5367 -2.62268e-07 11C-1.17422e-07 7.68629 2.68629 5 6 5C8.61244 5 10.8349 6.66961 11.6586 9L28.3414 9C29.1651 6.66961 31.3876 5 34 5C37.3137 5 40 7.68629 40 11C40 12.5367 39.4223 13.9385 38.4722 15C39.4223 16.0615 40 17.4633 40 19C40 22.3137 37.3137 25 34 25C31.3876 25 29.1651 23.3304 28.3414 21L11.6586 21Z"
              fill="#333"
            />
          </g>
          <g style={displayStep(1)}>
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M39.4683 16.5271C39.8098 17.2811 40 18.1184 40 19C40 22.3137 37.3137 25 34 25C31.3876 25 29.1651 23.3304 28.3414 21H11.6586C10.8349 23.3304 8.61244 25 6 25C2.68629 25 0 22.3137 0 19C0 17.4633 0.577705 16.0615 1.52779 15C0.577705 13.9385 0 12.5367 0 11C0 7.68629 2.68629 5 6 5C8.61244 5 10.8349 6.66961 11.6586 9L27.1178 9C27.2875 10.07 27.6358 11.0805 28.1313 12L11.6586 12C10.3871 12 9.25377 11.1985 8.83007 9.99974C8.4168 8.8305 7.30153 8 6 8C4.34314 8 3 9.34314 3 11C3 11.7703 3.28637 12.4665 3.76319 12.9993C4.78265 14.1383 4.78265 15.8617 3.76319 17.0007C3.28637 17.5335 3 18.2297 3 19C3 20.6569 4.34314 22 6 22C7.30153 22 8.4168 21.1695 8.83007 20.0003C9.25377 18.8015 10.3871 18 11.6586 18H28.3414C29.6129 18 30.7462 18.8015 31.1699 20.0003C31.5832 21.1695 32.6985 22 34 22C35.6569 22 37 20.6569 37 19C37 18.2297 36.7136 17.5335 36.2368 17.0007C36.2355 16.9993 36.2342 16.9978 36.2329 16.9963C36.3216 16.9988 36.4107 17 36.5 17C37.5366 17 38.5344 16.834 39.4683 16.5271Z"
              fill="#333"
            />
            <path
              d="M29.353 2.75224C29.1581 1.94707 29.6528 1.13633 30.4579 0.941391C31.2631 0.746455 32.0738 1.24114 32.2688 2.04631L32.9747 4.96207C33.1696 5.76724 32.6749 6.57798 31.8698 6.77291C31.0646 6.96785 30.2539 6.47316 30.0589 5.668L29.353 2.75224Z"
              fill="#333"
            />
            <path
              d="M38.174 3.06412C38.6055 2.35694 39.4456 2.20341 40.1528 2.63494C40.8601 3.06646 41.0136 3.90657 40.5821 4.61374L37.8832 9.32363C37.4517 10.0308 36.6117 10.1843 35.9045 9.75277C35.1973 9.32124 35.0438 8.48114 35.4753 7.77396L38.174 3.06412Z"
              fill="#333"
            />
            <path
              d="M9.60565 2.70195C9.81626 1.8476 10.7525 1.45216 11.6069 1.66277C12.4613 1.87337 12.8568 2.80966 12.6462 3.66401L11.9357 6.54885C11.7251 7.4032 10.7888 7.79763 9.93443 7.58703C9.0801 7.37643 8.68464 6.44014 8.89525 5.58579L9.60565 2.70195Z"
              fill="#333"
            />
            <path
              d="M18.3895 3.2236C18.5858 2.41155 19.3264 2.1619 20.1385 2.35807C20.9506 2.55434 21.2008 3.29579 21.0045 4.10784L20.3365 7.05484C20.1402 7.86689 19.3988 8.11609 18.5868 7.91982C17.7748 7.72355 17.5246 6.9821 17.7209 6.17005L18.3895 3.2236Z"
              fill="#333"
            />
          </g>
          <g style={displayStep(2)}>
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M17.577 1.87231C17.9493 1.3858 18.7717 1.26303 19.2582 1.63534C19.7431 2.00773 19.866 2.85043 19.4942 3.33697L12.7684 10.0628C12.4052 10.4638 11.6444 10.5562 11.1595 10.1836C10.6745 9.81101 10.5511 8.9683 10.9229 8.48248L17.577 1.87231Z"
              fill="#333"
            />
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M2.51252 19.9292C2.94402 19.1617 3.55194 18.6721 4.3819 18.6721C5.20809 18.6721 5.8234 19.1617 6.2578 19.9292C6.66769 20.6494 6.66512 21.6058 6.2753 22.3296C5.86539 23.1377 5.24399 23.5637 4.3819 23.5637C3.5565 23.5637 2.93999 23.058 2.51252 22.3296C2.08327 21.6058 2.08548 20.6494 2.51252 19.9292Z"
              fill="#333"
            />
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M40.3884 22.3296C39.9569 23.058 39.3404 23.5637 38.5161 23.5637C37.645 23.5637 37.0307 23.1377 36.6208 22.3296C36.2458 21.6058 36.2527 20.6494 36.6829 19.9292C37.1128 19.1617 37.7303 18.6721 38.5644 18.6721C39.3876 18.6721 39.9927 19.1617 40.3884 19.9292C40.8236 20.6494 40.8361 21.6058 40.3884 22.3296Z"
              fill="#333"
            />
          </g>
          <path
            d="M11.6586 22C12.8349 19.6696 15.0574 18 17.6586 18H28.3414C30.9711 18 33.1665 19.6219 34.6176 21.9072C34.8932 22.5225 34.7786 23.2332 34.2118 23.7775C33.6449 24.3218 32.746 24.2612 32.4708 23.6459C31.5845 21.4982 29.0382 20 28.3414 20H11.6586C10.9618 20 8.41553 21.4982 7.52922 23.6459C7.25497 24.2612 6.35608 24.3218 5.78921 23.7775C5.22241 23.2332 5.10594 22.5225 5.38159 21.9072C6.83271 19.6219 9.02815 18 11.6586 18V22Z"
            fill="#333"
          />
        </svg>
      </div>
    </div>
  );
}

export default Loading;